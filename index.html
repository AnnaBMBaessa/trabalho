<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Poluição do Meio Ambiente - Interativo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Fonte -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
/* ==== GERAL ==== */
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background-color: #fdfdfd;
    color: #333;
    transition: background 0.3s, color 0.3s;
}
.dark-mode {
    background-color: #121212;
    color: #ddd;
}
h2 { margin-top: 40px; text-align: center; }
section { padding: 80px 20px; position: relative; text-align: center; }
.parallax { background-attachment: fixed; background-size: cover; background-position: center; }

/* ==== HEADER COM VÍDEO ==== */
header {
    position: relative;
    height: 60vh;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #fff;
    overflow: hidden;
}
header video {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    object-fit: cover;
    opacity: 0.4;
    z-index: -1;
}
header h1 { font-size: 48px; text-align: center; z-index: 1; }
header p { font-size: 20px; text-align: center; z-index: 1; margin-top: 10px; }

/* ==== BOTÃO DARK MODE ==== */
#darkModeBtn {
    position: fixed; top: 20px; right: 20px;
    padding: 12px 20px; border: none; border-radius: 25px;
    background-color: #4db8cc; color: #fff; cursor: pointer;
    font-weight: bold; transition: transform 0.2s ease, background 0.3s;
}
#darkModeBtn:hover { transform: scale(1.1); background-color: #3a9ab5; }

/* ==== BLOCO INFOCARDS ==== */
.cards { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 30px; }
.card {
    background: #fff; padding: 25px; width: 250px; border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.3s ease; cursor: pointer;
}
.card:hover { transform: translateY(-5px) rotate(2deg); }
.card h3 { margin-top: 10px; color: #4db8cc; font-size: 20px; }

/* ==== SLIDER ANTES E DEPOIS ==== */
.slider-container { position: relative; max-width: 800px; margin: 0 auto 50px; overflow: hidden; border-radius: 15px; }
.slider-container img { width: 100%; display: block; }
.slider-handle {
    position: absolute; top: 0; bottom: 0; left: 50%; width: 4px; background: #4db8cc; cursor: ew-resize; z-index: 2;
}

/* ==== VÍDEOS ==== */
.video-container {
    position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 15px; max-width: 700px; margin: 40px auto;
}
.video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }

/* ==== PLANETA EM TEMPO REAL ==== */
#realTime { font-size: 18px; margin-top: 20px; }
.counter { font-weight: bold; color: #4db8cc; }

/* ==== SEÇÃO LIXO INTERATIVO ==== */
#trashArt { width: 90%; max-width: 800px; height: 400px; border: 2px dashed #4db8cc; margin: 30px auto; position: relative; background: #e0f7fa; overflow: hidden; }
.trashItem {
    width: 50px; height: 50px; background: #f25f5c; border-radius: 8px; position: absolute; cursor: grab;
    display: flex; justify-content: center; align-items: center; color: #fff; font-weight: bold; font-size: 14px;
    user-select: none;
}

/* ==== FOOTER ==== */
footer { text-align: center; background: #4db8cc; color: #fff; padding: 25px 20px; font-size: 14px; }

@media screen and (max-width: 768px){ .cards { flex-direction: column; } header h1 { font-size: 32px; } header p { font-size: 16px; } }
</style>
</head>
<body>

<!-- BOTÃO DARK MODE -->
<button id="darkModeBtn">🌙 Dark Mode</button>

<!-- HEADER COM VÍDEO -->
<header>
    <video autoplay muted loop>
        <source src="https://www.videvo.net/videvo_files/converted/2015_08/preview/140801_Blue_Sky_Panoramic.mp438587.webm" type="video/webm">
        Seu navegador não suporta vídeo.
    </video>
    <div>
        <h1>🌍 Poluição do Meio Ambiente</h1>
        <p>Infográfico Interativo e Educativo</p>
    </div>
</header>

<!-- SEÇÃO PARALLAX -->
<section class="parallax" style="background-image:url('https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=1400&q=80'); height:400px;">
</section>

<!-- INFOCARDS -->
<section>
    <h2>Impactos da Poluição</h2>
    <div class="cards">
        <div class="card"><h3>Ar Poluído</h3><p>Gases tóxicos afetam saúde e aquecimento global.</p></div>
        <div class="card"><h3>Água Contaminada</h3><p>Rios e oceanos recebem lixo e resíduos químicos.</p></div>
        <div class="card"><h3>Solo Degradado</h3><p>Uso excessivo de agrotóxicos e lixo industrial prejudica a terra.</p></div>
    </div>
</section>

<!-- SLIDER ANTES E DEPOIS -->
<section>
    <h2>Antes e Depois</h2>
    <div class="slider-container">
        <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=800&q=80" alt="Poluído">
        <img src="https://images.unsplash.com/photo-1524492449090-1a1105f17c06?auto=format&fit=crop&w=800&q=80" alt="Limpo" style="position:absolute; top:0; left:0; width:50%;" id="sliderImage">
        <div class="slider-handle" id="sliderHandle"></div>
    </div>
</section>

<!-- VÍDEO EDUCATIVO -->
<section>
    <h2>Vídeo Educativo</h2>
    <div class="video-container">
        <iframe src="https://www.youtube.com/embed/WfGMYdalClU" allowfullscreen></iframe>
    </div>
</section>

<!-- GRÁFICO INTERATIVO -->
<section>
    <h2>Estatísticas de Poluição</h2>
    <canvas id="pollutionChart" width="400" height="200"></canvas>
</section>

<!-- PLANETA EM TEMPO REAL -->
<section>
    <h2>O Planeta em Tempo Real</h2>
    <div id="realTime">
        <p id="dateTime"></p>
        <p>Desde que você chegou aqui, <span class="counter" id="plasticCount">0</span> toneladas de plástico foram despejadas no oceano.</p>
        <p>Nesses <span class="counter" id="secondsElapsed">0</span> segundos, o mundo consumiu <span class="counter" id="waterConsumed">0</span> litros de água.</p>
        <p>Enquanto você lê isso, uma área de floresta equivalente a <span class="counter" id="forestLost">0</span> campos de futebol foi perdida.</p>
        <button id="commitBtn">Eu me comprometo a agir</button>
    </div>
</section>

<!-- LIXO INTERATIVO -->
<section>
    <h2>Seu Lixo, Sua Arte</h2>
    <div id="trashArt"></div>
</section>

<!-- FOOTER -->
<footer>
    🌱 Conscientização ambiental: pequenas atitudes, grandes mudanças!
</footer>

<script>
// DARK MODE
const darkModeBtn = document.getElementById('darkModeBtn');
darkModeBtn.addEventListener('click', () => document.body.classList.toggle('dark-mode'));

// SLIDER ANTES E DEPOIS
const sliderImage = document.getElementById('sliderImage');
const sliderHandle = document.getElementById('sliderHandle');
const sliderContainer = sliderHandle.parentElement;
let isDragging = false;
sliderHandle.addEventListener('mousedown', () => isDragging = true);
window.addEventListener('mouseup', () => isDragging = false);
window.addEventListener('mousemove', (e) => {
    if(!isDragging) return;
    const rect = sliderContainer.getBoundingClientRect();
    let x = e.clientX - rect.left;
    if(x < 0) x=0; if(x > rect.width) x = rect.width;
    sliderImage.style.width = x + 'px';
    sliderHandle.style.left = x + 'px';
});

// CHART.JS
const ctx = document.getElementById('pollutionChart').getContext('2d');
new Chart(ctx, {
    type: 'bar',
    data: { labels: ['Plástico','CO2','Desmatamento','Lixo Eletrônico'], datasets: [{label:'Toneladas', data:[300,150,200,80], backgroundColor:['#4db8cc','#7fd17f','#f7b267','#f25f5c'], hoverOffset:10}]},
    options:{responsive:true, plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true}}}
});

// PLANETA EM TEMPO REAL
const dateTimeEl = document.getElementById('dateTime');
const plasticEl = document.getElementById('plasticCount');
const secondsEl = document.getElementById('secondsElapsed');
const waterEl = document.getElementById('waterConsumed');
const forestEl = document.getElementById('forestLost');

let start = Date.now();
function updateCounters(){
    let now = Date.now();
    let seconds = Math.floor((now - start)/1000);
    dateTimeEl.textContent = new Date().toLocaleString('pt-BR', {timeZone:'America/Sao_Paulo'});
    secondsEl.textContent = seconds;
    plasticEl.textContent = (seconds*0.01).toFixed(2);
    waterEl.textContent = (seconds*5).toLocaleString();
    forestEl.textContent = Math.floor(seconds*0.002);
}
setInterval(updateCounters,1000);

// SEU LIXO, SUA ARTE
const trashArt = document.getElementById('trashArt');
const items = ['PET','Saco','Embalagem','Lata','Papel'];
items.forEach((item,i)=>{
    const div = document.createElement('div');
    div.classList.add('trashItem');
    div.textContent = item;
    div.style.top = Math.random()*350+'px';
    div.style.left = Math.random()*750+'px';
    div.draggable = true;
    trashArt.appendChild(div);
});

// DRAG & DROP
trashArt.addEventListener('dragstart', e => {
    e.dataTransfer.setData('text/plain', e.target.textContent);
});
trashArt.addEventListener('dragover', e => e.preventDefault());
trashArt.addEventListener('drop', e => {
    e.preventDefault();
    const data = e.dataTransfer.getData('text');
    alert(`Você adicionou: ${data}`);
});
</script>
</body>
</html>
